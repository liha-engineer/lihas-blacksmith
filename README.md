## ⚒LIHA'S BLACKSMITH
아이템 시뮬레이터 - 리하네 대장간!

## 👥인원
개인과제, 단독진행

## 📆프로젝트 기간
2024.09.09 ~ 12

## 🛠️기술 스택
* Javascript
* Node.js
* Express
* Prisma
* bcrypt

## 💡 QnA
 1. **암호화 방식**
        - 비밀번호를 DB에 저장할 때 Hash를 이용했는데, Hash는 단방향 암호화와 양방향 암호화 중 어떤 암호화 방식에 해당할까요?
        -> 해시는 단방향 암호화입니다.
        - 비밀번호를 그냥 저장하지 않고 Hash 한 값을 저장 했을 때의 좋은 점은 무엇인가요?
        -> 단방향 암호화는 복호화가 불가능하여 원본을 알 수 없습니다. 암호문을 탈취한다고 해도 평문으로 바꿀 수 없기 때문에 DB가 공격받아 정보가 유출되어도 상대적으로 피해를 줄일 수 있습니다.  
2. **인증 방식**
        - JWT(Json Web Token)을 이용해 인증 기능을 했는데, 만약 Access Token이 노출되었을 경우 발생할 수 있는 문제점은 무엇일까요?
        -> 토큰이 탈취 및 도용되어도 서버는 토큰이 탈취된 상태인지, 접근자가 본인인지, 어떤 목적으로 접근하는지 등을 알 수 없습니다. 또한 토큰은 복호화가 가능하기 때문에 payload 자체에 아이디나 패스워드 같은 개인정보가 담길 경우 유출 피해 우려가 있습니다.  
        - 해당 문제점을 보완하기 위한 방법으로는 어떤 것이 있을까요?
        -> 리프레시 토큰을 도입하여 액세스 토큰의 수명을 짧게 설정하고 재인가를 받아야 하는 방식으로 탈취 피해를 줄이는 방법이 있습니다. 
3. **인증과 인가**
        - 인증과 인가가 무엇인지 각각 설명해 주세요.
        -> 인증은 해당 사용자가 맞는지 신원을 확인하는 과정, 인가는 특정 사용자가 어떤 자격을 가지고 있는지 확인하는 과정입니다. 인증을 받아도 인가를 받지 못하면 특정한 리소스에 접근할 수 없습니다. 
        (인증은 에버랜드 이용권 확인, 인가는 Q-PASS(빨리 줄서기) 구매여부 확인으로 이해했습니다. 똑같이 에버랜드 손님이어도 Q-PASS 구매자는 구매한 시설 대기줄을 무시하고 즉시입장 할 수 있어요!)
        - 위 API 구현 명세에서 인증을 필요로 하는 API와 그렇지 않은 API의 차이가 뭐라고 생각하시나요?
        -> 공개되어도 상관없는 정보와 그렇지 않은 정보의 차이라고 생각합니다. 알려져도 게임 플레이, 게임 내 경제 및 밸런스 등에 영향이 없는 정보들은 인증을 필요로 하지 않을 수 있습니다. 
        - 아이템 생성, 수정 API는 인증을 필요로 하지 않는다고 했지만 사실은 어느 API보다도 인증이 필요한 API입니다. 왜 그럴까요?
        -> 게임의 기반이 되는 전체 아이템 DB에 변화를 주는 것이기 때문입니다. 이는 게임 내 경제 및 밸런스에 막대한 영향을 끼쳐 선량한 이용자에게 피해를 줄 수 있고, 리텐션이 떨어지거나 심하면 서비스 종료를 야기합니다. 제한된 IP 범위(이를테면 게임회사 사무실 내부 IP)에서 인증 및 인가받은 어드민 계정으로만 생성할 수 있어야 합니다.  
4. **Http Status Code**
        - 과제를 진행하면서 사용한 Http Status Code를 모두 나열하고, 각각이 의미하는 것과 어떤 상황에 사용했는지 작성해 주세요.
        -> 200 : OK. post를 제외한 메서드가 성공했을때 사용했습니다. 
        -> 201 : Created. 계정, 캐릭터, 아이템을 생성할 때 생성 성공 시 사용했습니다. 
        -> 400 : Bad request. 인섬니아 같은 클라이언트 단에서 입력값이 잘못 된 경우 (계정 생성 시 text validation 같은) 곳에서 사용했습니다. 
        -> 401 : Unauthorized. authMiddleware를 통해 사용자 정보를 받아오는 곳에서 실패한 경우 (유저를 인증할 수 없을 때) 사용했습니다. 
        -> 404 : Not found. Id값 등으로 DB에서 데이터를 find할 때 데이터를 불러올 수 없는 경우 사용했습니다. 
        -> 409 : Conflict. DB에 값을 넣을 때 중복을 허용하지 않는 경우 사용했습니다.
        -> 500 : Internal Server Error. 이 외 서버 로직의 try-catch 구문에서 잡히는 에러들을 넘겨받는 에러 핸들링 미들웨어에서 사용했습니다.  
5. **게임 경제**
        - 현재는 간편한 구현을 위해 캐릭터 테이블에 money라는 게임 머니 컬럼만 추가하였습니다.
            - 이렇게 되었을 때 어떠한 단점이 있을 수 있을까요?
            -> 현금성 재화나 이벤트로  획득할 수 있는 특수 재화를 표시할 수 없어 스키마를 다시 짜야 하고, 데이터가 날아갈 수 있는 위험이 있습니다. 
            - 이렇게 하지 않고 다르게 구현할 수 있는 방법은 어떤 것이 있을까요?
            -> 유형 별로 재화 컬럼을 설정하고, 골드 외의 초기값을 0으로 설정합니다. 
        - 아이템 구입 시에 가격을 클라이언트에서 입력하게 하면 어떠한 문제점이 있을 수 있을까요?
        -> 플레이 측면에서는 가격과 관련된 게임 내 밸런스가 붕괴되고 가격 인플레이션이 일어날 수 있습니다. 로직 측면에서는 서버 데이터의 안정성이나 무결성이 보장되지 못하다는 반증이 되고 클라이언트 단으로부터의 여러 유형의 공격에 노출될 수 있습니다. 